.before-after-slider {
  background: $color3;
  position: relative;
  width: 100%;
  height: 100vh;
  overflow: hidden;
  cursor: grab;

  .sales-banner {
    position: absolute;
    top: -15%;
    left: -20%;
    width: 140%;
    height: 60px;
    transform: rotate(-15deg);
    transform-origin: center center;
    overflow: hidden;
    z-index: 1000;

    @media screen and (max-width: 1024px) {
      top: 0;
      left: 0;
      transform: rotate(0deg);
      width: 400%;
    }

    .banner-content {
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      background: $color4;
      display: flex;
      align-items: center;
      white-space: nowrap;
      animation: slideLeft 8s linear infinite;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
    }

    .banner-text {
      color: $color3;
      font-weight: bold;
      font-size: 24px;
      text-transform: uppercase;
      letter-spacing: 2px;
      padding: 0 40px;
      font-family: $font2;
    }

    @keyframes slideLeft {
      0% {
        transform: translateX(0);
      }
      100% {
        transform: translateX(-300px);
      }
    }

    // Mobile-specific animation with longer distance
    @media screen and (max-width: 1024px) {
      .banner-content {
        animation: slideLeftMobile 12s linear infinite;
      }
    }

    @keyframes slideLeftMobile {
      0% {
        transform: translateX(0);
      }
      100% {
        transform: translateX(-800px); // Much longer distance for wider banner
      }
    }

    // Responsive adjustments for banner
    @media screen and (max-width: 1024px) {
      height: 50px;
      .banner-text {
        font-size: 20px;
        padding: 0 30px;
      }
    }

    @media screen and (max-width: 768px) {
      height: 40px;
      .banner-text {
        font-size: 16px;
        padding: 0 25px;
        letter-spacing: 1px;
      }
    }

    @media screen and (max-width: 576px) {
      height: 35px;
      .banner-text {
        font-size: 14px;
        padding: 0 20px;
      }
    }
  }

  &::before {
    content: "";
    display: block;
    width: 102%;
    height: 223px;
    /* Optimized SVG with empty space removed */
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 216 1919 208'%3E%3Cpath fill='%23D9D2BF' d='M1919.56,226.27c-73.24-10.6-384.65,36.36-890.71,118.1C521.18,426.37,2.53,318.37,2.53,318.37L1.53,424.37h1918.03v-198.1Z'/%3E%3C/svg%3E");
    background-size: cover;
    background-repeat: no-repeat;
    position: absolute;
    left: -2%;
    bottom: 0;
    z-index: 20;
    @media screen and (max-width: 1024px) {
      height: 200px;
      width: 110%;
      left: -10%;
      bottom: 0;
    }
    @media screen and (max-width: 768px) {
      height: 100px;
      width: 110%;
      left: -10%;
      bottom: 0;
    }
    @media screen and (max-width: 576px) {
      height: 123px;
      width: 110%;
      left: -10%;
      bottom: 0;
    }
  }

  &:active {
    cursor: grabbing;
  }

  .before-image,
  .after-image {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;

    // This now targets ONLY the main background image, not the logo.
    img:not(.after-image-logo) {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }
  }

  // Add these new styles for the SVG logo inside the .after-image div.
  .after-image {
    .after-image-logo {
      position: absolute; // Positions the SVG on top of the container.
      top: 50%; // Distance from the top. Adjust as needed.
      left: 20%; // Distance from the left. Adjust as needed.
      width: 250px; // Set a specific width for the logo.
      height: auto; // Maintain the aspect ratio automatically.
      z-index: 5; // Ensures it's above the background image.

      @media screen and (max-width: 1440px) {
        top: 40%;
        left: 25%;
      }
      @media screen and (max-width: 1024px) {
        top: 40%;
        left: 10%;
      }
      @media screen and (max-width: 768px) {
        top: 40%;
        left: 10%;
        width: 200px;
      }
      @media screen and (max-width: 576px) {
        top: 50%;
        left: 5%;
        width: 150px;
      }
    }
  }

  .before-image {
    clip-path: inset(0 50% 0 0);
    transition: clip-path 0.1s ease-out;
  }

  .before-image .image-label {
    right: 20px;
  }

  .after-image .image-label {
    left: 20px;
  }

  .slider-handle {
    position: absolute;
    top: 0;
    left: 50%;
    width: 4px;
    height: 100%;
    transform: translateX(-50%);
    cursor: ew-resize;
    z-index: 10;
    transition: left 0.1s ease-out;

    .slider-line {
      width: 4px;
      height: 100%;
      background: white;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
      position: relative;
      z-index: 2;
    }

    .slider-circle {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 80px;
      height: 80px;
      background: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
      color: #666;
      z-index: 2;

      svg {
        width: 20px;
        height: 12px;
        margin: 0 2px;
      }
    }
  }

  @media (max-width: 768px) {
    height: 500px;

    .slider-circle {
      width: 40px;
      height: 40px;

      svg {
        width: 18px;
        height: 11px;
      }
    }

    .image-label {
      font-size: 12px;
      padding: 6px 12px;
      top: 15px;
    }

    .before-image .image-label {
      right: 15px;
    }

    .after-image .image-label {
      left: 15px;
    }
  }
}
